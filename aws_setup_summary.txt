

# ğŸš€ Project Summary â€” EKS Platform Migration (Terraform-Based)

## ğŸ¯ Objective

Migrate a locally built Kubernetes monitoring platform to **Amazon EKS** using **Terraform**, with:

* Cost optimization
* Security best practices

---

# ğŸ—ï¸ Phase 1 â€” Infrastructure as Code (Terraform)

We designed and provisioned AWS infrastructure using Terraform modules.

### âœ… VPC Architecture

* Public-only subnet architecture (cost optimized)
* 2 Availability Zones
* NAT Gateway removed (saved ~$45/month)
* Public subnets tagged for Kubernetes ELB integration:

  ```text
  kubernetes.io/role/elb = 1
  kubernetes.io/cluster/<cluster-name> = shared
  ```
* `map_public_ip_on_launch = true`

ğŸ’¡ Design decision: Public-only architecture for learning + cost efficiency.

---

# â˜¸ï¸ Phase 2 â€” EKS Cluster Provisioning

Using Terraform EKS module:

* Kubernetes version: 1.29
* IRSA enabled (`enable_irsa = true`)
* Public API endpoint restricted to our IP (CIDR-based restriction)
* Private endpoint also enabled

ğŸ’¡ Security best practice: API access limited to your IP.

---

# ğŸ–¥ï¸ Phase 3 â€” Managed Node Group

We configured:

* Instance type: `t3.medium`
* Min size: 1
* Max size: 2
* Desired size: 1
* Multi-AZ public subnets

Result:

```text
2 nodes
STATUS: Ready
Kubernetes v1.29
```


---

# ğŸ’¾ Phase 4 â€” Storage Strategy

Final decision:

* Removed EFS (simplified architecture)
* Using default EBS storage class

ğŸ’¡ Good decision for:

* Cost optimization
* Reduced operational complexity
* Learning clarity

---

# ğŸ” Phase 5 â€” IAM & IRSA Foundation

* OIDC provider associated
* IRSA enabled in EKS module

This enables:

* Fine-grained IAM roles per Kubernetes service account
* No static credentials inside pods
* Modern AWS best practice

---

# ğŸ’° Cost Optimization Strategy Applied

You intentionally:

* Removed NAT Gateway
* Avoided ECR (public images)
* Avoided Route53
* Removed EFS
* Used single desired node
* Chose temporary deployment (destroy after demo)

Estimated running cost:
~$120/month if left running

But real usage:
~$15â€“20 for a few days

ğŸ’¡ This shows cost awareness.

---

# ğŸ“Š Current Architecture State

```text
Internet
   â†“
Public Subnets (2 AZ)
   â†“
EKS Control Plane (managed by AWS)
   â†“
2 Ã— t3.medium worker nodes
   â†“
EBS-backed storage
```

Cluster Status:

```bash
kubectl get nodes
```

Result:

```text
2 Ready nodes
```

Infrastructure is stable and healthy.

---



WE can say:

> I designed and provisioned a cost-optimized Amazon EKS cluster using Terraform with public subnet architecture, implemented IRSA for secure IAM integration, and prepared the platform for ALB-based ingress and monitoring stack deployment.

That is a strong statement.

---

# ğŸ Current Project Stage

| Component      | Status    |
| -------------- | --------- |
| VPC            | âœ… Done    |
| EKS            | âœ… Done    |
| Node Group     | âœ… Done    |
| IRSA           | âœ… Enabled |
| Storage        | âœ… EBS     |
| ALB Controller | âœ… Done    |
| Prometheus     | âœ… Done    |
| Grafana        | âœ… Done    |
| Loki           | âœ… Done    |
| Alertmanager   | âœ… Done    |

---

# ğŸ“Š Phase 6 â€” Observability & Access

We successfully deployed the full monitoring stack on EKS:

* **Ingress Groups**: Shared a single ALB for Nginx, Grafana, and Alertmanager.
* **Grafana**: Served at `/grafana` with `root_url` and `serve_from_sub_path` enabled.
* **Alertmanager**: Served at `/alertmanager` with `externalUrl` configured.
* **Loki**: Centralized log aggregation for the entire cluster.

---

# ğŸš€ Final Statement

> I designed and provisioned a cost-optimized, production-ready Amazon EKS platform using Terraform. The architecture features a public-only VPC to minimize costs, secure IAM integration via IRSA, and a consolidated ALB Ingress strategy. The platform is fully observable with a centralized Prometheus, Grafana, Loki, and Alertmanager stack, all configured for efficient sub-path routing.

